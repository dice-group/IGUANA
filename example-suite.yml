datasets:
  - name: "DatasetName"
    file: "src/test/resources/dataset.txt"

connections:
  - name: "Virtuoso7"
    authentication:
      user: "dba"
      password: "dba"
    endpoint: "http://localhost:8890/sparql"
    dataset: DatasetName
  - name: "Virtuoso6"
    authentication:
      user: "dba"
      password: "dba"
    endpoint: "http://localhost:8891/sparql"
  - name: "Blazegraph"
    endpoint: "http://localhost:9999/blazegraph/sparql"
    authentication:
      user: "user"
      password: "test"
    updateEndpoint: "http://localhost:3030/ds/update"
    updateAuthentication:
      user: "updateUser"
      password: "password"

tasks:
  # 1 hour (time Limit is in ms)
  - type: stresstest
    warmupWorkers:
      # 1 minutes (is in ms)
    - type: SPARQLProtocolWorker
      number: 16
      queries:
        path: "./example/queries"
      timeout: 0.02s
      connection: Virtuoso7
      completionTarget:
        duration: 1000s
    workers:
      - type: "SPARQLProtocolWorker"
        number: 16
        queries:
          path: "./example/queries"
        timeout: 3m
        connection: Virtuoso7
        completionTarget:
          duration: 1000s
        requestType: get query
      - number: 4
        type: "SPARQLProtocolWorker"
        connection: Virtuoso7
        completionTarget:
          duration: 1000s
        queries:
          path: "./example/queries"
        timeout: 100s
        acceptHeader: "application/sparql-results+json"
  - type: stresstest
    workers:
      - type: "SPARQLProtocolWorker"
        connection: Virtuoso7
        number: 16
        requestType: get query
        queries:
          path: "./example/queries"
        timeout: 180s
        completionTarget:
          duration: 1000s
      - number: 4
        requestType: get query
        connection: Virtuoso7
        completionTarget:
          duration: 1000s
        type: "SPARQLProtocolWorker"
        queries:
          path: "./example/queries"
        timeout: 100s
        parseResults: true
        acceptHeader: "application/sparql-results+json"

#optional otherwise a nt file will be used
storages:
  - type: "rdf file"
    path: "some.ttl"
    #configuration:
      #fileName: YOUR_RESULT_FILE_NAME.nt

responseBodyProcessors:
  - contentType: "application/sparql+json"
    threads: 1
